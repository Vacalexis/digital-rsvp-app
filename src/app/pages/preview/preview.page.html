<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'/themes'"></ion-back-button>
    </ion-buttons>
    <ion-title>Pr√©-visualizar Tema</ion-title>
  </ion-toolbar>

  <!-- Type Selector -->
  <ion-toolbar class="type-toolbar">
    <ion-segment
      [value]="invitationType()"
      (ionChange)="onTypeChange($event)"
      mode="ios"
    >
      @for (type of types; track type.value) {
        <ion-segment-button [value]="type.value">
          <ion-icon [name]="type.icon"></ion-icon>
          <ion-label>{{ type.label }}</ion-label>
        </ion-segment-button>
      }
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="preview-content">
  <!-- Theme Info Banner -->
  <div class="theme-info">
    <div class="theme-badge">
      <ion-icon name="heart-outline"></ion-icon>
      <span>Tema: <strong>{{ themeNames[theme()] }}</strong></span>
    </div>
    <p class="theme-hint">
      Experimente os diferentes tipos de convite para ver como o tema se adapta
    </p>
  </div>

  <!-- Type Description Card -->
  <ion-card class="type-description">
    <ion-card-content>
      <div class="type-info">
        <ion-icon
          [name]="currentType().icon"
          class="type-icon"
        ></ion-icon>
        <div>
          <h3>{{ currentType().label }}</h3>
          <p>{{ currentType().description }}</p>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Invitation Preview -->
  <div class="invitation-preview-container">
    <app-invitation-card
      [event]="eventWithTheme()"
      [showEnvelope]="false"
    ></app-invitation-card>
  </div>

  <!-- Sample Data Notice -->
  <div class="sample-notice">
    <ion-card>
      <ion-card-content>
        <p>
          üìù <strong>Dados de exemplo</strong> - Ao personalizar, poder√° editar
          todos os textos, nomes, datas e detalhes do evento.
        </p>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- CTA Section -->
  <div class="cta-section">
    <ion-card class="cta-card">
      <ion-card-content>
        <div class="cta-content">
          <h2>Gostou deste tema?</h2>
          <p>
            Personalize todos os detalhes do convite e comece a gerir os seus
            convidados por apenas <strong>‚Ç¨29</strong>
          </p>

          <div class="cta-features">
            <div class="feature">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Convites ilimitados</span>
            </div>
            <div class="feature">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Gest√£o de RSVPs</span>
            </div>
            <div class="feature">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Exporta√ß√£o de dados</span>
            </div>
          </div>

          <ion-button
            expand="block"
            size="large"
            class="customize-button"
            (click)="startCustomization()"
          >
            <ion-icon name="arrow-forward-outline" slot="end"></ion-icon>
            Personalizar Este Convite
          </ion-button>

          <ion-button
            expand="block"
            fill="clear"
            size="small"
            (click)="goBack()"
          >
            Ver Outros Temas
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Theme Variations Hint -->
  <div class="variations-hint">
    <p>
      üí° <strong>Dica:</strong> Todos os temas podem ser personalizados com as
      suas cores favoritas
    </p>
  </div>
</ion-content>
